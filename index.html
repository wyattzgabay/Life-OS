<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="OS">
    <meta name="theme-color" content="#000000">
    <meta name="color-scheme" content="dark">
    
    <!-- Open Graph for rich link previews -->
    <meta property="og:title" content="Life OS - Your Fitness Companion">
    <meta property="og:description" content="Track workouts, nutrition, and progress. Open in Safari → Add to Home Screen">
    <meta property="og:image" content="https://wyattzgabay.github.io/Life-OS/icon-512.png">
    <meta property="og:url" content="https://wyattzgabay.github.io/Life-OS/">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Life OS - Your Fitness Companion">
    <meta name="twitter:description" content="Track workouts, nutrition, and progress. Open in Safari → Add to Home Screen">
    <meta name="twitter:image" content="https://wyattzgabay.github.io/Life-OS/icon-512.png">
    
    <!-- Fonts - SF Pro inspired -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="icon.svg?v=3">
    <link rel="apple-touch-icon" href="icon-180.png?v=1">
    <title>Life OS</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css?t=2700">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body style="background: #000; color: #fff;">
    <!-- Install Instructions Overlay (for invite links) -->
    <div id="install-overlay" style="display:none; position:fixed; inset:0; background:#000; z-index:9999; padding:40px 24px; text-align:center;">
        <img src="icon-180.png" alt="Life OS" style="width:100px; height:100px; border-radius:22px; margin-bottom:24px;">
        <h1 style="font-family:'JetBrains Mono',monospace; font-size:28px; margin-bottom:8px; color:#fff;">Life OS</h1>
        <p style="color:#888; font-size:14px; margin-bottom:40px;">Your personal fitness companion</p>
        
        <div style="background:#111; border-radius:16px; padding:24px; text-align:left; margin-bottom:24px;">
            <div style="font-family:'JetBrains Mono',monospace; font-size:11px; color:#888; letter-spacing:0.1em; margin-bottom:16px;">INSTALL ON iPHONE</div>
            
            <div style="display:flex; align-items:center; gap:16px; margin-bottom:20px;">
                <div style="width:32px; height:32px; background:#22c55e; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold; flex-shrink:0;">1</div>
                <div style="color:#fff; font-size:15px;">Make sure you're in <strong>Safari</strong></div>
            </div>
            
            <div style="display:flex; align-items:center; gap:16px; margin-bottom:20px;">
                <div style="width:32px; height:32px; background:#22c55e; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold; flex-shrink:0;">2</div>
                <div style="color:#fff; font-size:15px;">Tap the <strong>Share</strong> button <span style="font-size:20px;">⬆</span></div>
            </div>
            
            <div style="display:flex; align-items:center; gap:16px;">
                <div style="width:32px; height:32px; background:#22c55e; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold; flex-shrink:0;">3</div>
                <div style="color:#fff; font-size:15px;">Tap <strong>"Add to Home Screen"</strong></div>
            </div>
        </div>
        
        <button onclick="document.getElementById('install-overlay').style.display='none'" style="background:#22c55e; color:#000; border:none; padding:16px 32px; border-radius:12px; font-size:16px; font-weight:600; cursor:pointer; width:100%;">GOT IT</button>
    </div>
    
    <script>
        // Show install overlay if ?invite parameter present and not in standalone mode
        if (window.location.search.includes('invite') && !window.navigator.standalone) {
            document.getElementById('install-overlay').style.display = 'block';
        }
    </script>

    <!-- Sync Indicator -->
    <div id="sync-indicator" class="sync-indicator"></div>
    
    <div id="app">
        <!-- Onboarding Screen -->
        <div id="onboarding-screen" class="screen"></div>

        <!-- Main App -->
        <div id="main-app" class="hidden">
            <!-- Views -->
            <div id="daily-view" class="view active"></div>
            <div id="food-view" class="view"></div>
            <div id="stats-view" class="view"></div>
            <div id="skills-view" class="view"></div>
            <div id="profile-view" class="view"></div>
            <div id="reading-view" class="view"></div>
            
            <!-- Main content area for full-screen views -->
            <div id="main-content"></div>
        </div>

        <!-- Modals -->
        <div id="logger-modal" class="modal"></div>
        <div id="goals-modal" class="modal"></div>
        <div id="restore-modal" class="modal"></div>
        <div id="ai-nutrition-modal" class="modal"></div>

        <!-- Overlays -->
        <div id="completion-overlay" class="overlay"></div>
    </div>

    <!-- Bottom Navigation -->
    <nav id="bottom-nav" class="bottom-nav hidden">
        <button class="nav-item active" data-view="daily">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
            </svg>
            <span class="nav-text">TODAY</span>
        </button>
        <button class="nav-item" data-view="food">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 8h1a4 4 0 0 1 0 8h-1"/>
                <path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/>
                <line x1="6" y1="1" x2="6" y2="4"/>
                <line x1="10" y1="1" x2="10" y2="4"/>
                <line x1="14" y1="1" x2="14" y2="4"/>
            </svg>
            <span class="nav-text">FOOD</span>
        </button>
        <button class="nav-item" data-view="stats">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="20" x2="18" y2="10"/>
                <line x1="12" y1="20" x2="12" y2="4"/>
                <line x1="6" y1="20" x2="6" y2="14"/>
            </svg>
            <span class="nav-text">STATS</span>
        </button>
        <button class="nav-item" data-view="profile">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
            </svg>
            <span class="nav-text">YOU</span>
        </button>
    </nav>

    <!-- Scripts - Order matters! -->
    <script src="js/firebase-config.js?t=2700"></script>
    <script src="js/config.js?t=2700"></script>
    <script src="js/demo-mode.js?t=2700"></script>
    <!-- State modules (loaded before main state.js) -->
    <script src="js/state/workouts.js?t=2700"></script>
    <script src="js/state/running.js?t=2700"></script>
    <script src="js/state.js?t=2700"></script>
    <script src="js/utils.js?t=2700"></script>
    <script src="js/ui/onboarding.js?t=2700"></script>
    <script src="js/ui/daily.js?t=2700"></script>
    <script src="js/ui/food.js?t=2700"></script>
    <script src="js/ui/stats.js?t=2700"></script>
    <script src="js/ui/profile.js?t=2700"></script>
    <script src="js/ui/running.js?t=2700"></script>
    <script src="js/ui/reading.js?t=2700"></script>
    <script src="js/ui/alcohol.js?t=2700"></script>
    <script src="js/components/header.js?t=2700"></script>
    <script src="js/components/logger.js?t=2700"></script>
    <script src="js/components/workout.js?t=2700"></script>
    <script src="js/components/lift-logger.js?t=2700"></script>
    <script src="js/utils/modal-gestures.js?t=2700"></script>
    <script src="js/components/recovery-logger.js?t=2700"></script>
    <script src="js/engines/injury-database.js?t=2700"></script>
    <script src="js/components/cardio-logger.js?t=2700"></script>
    <script src="js/engines/injury-intelligence.js?t=2700"></script>
    <script src="js/ai-nutrition.js?t=2700"></script>
    <script src="js/app.js?t=2700"></script>
    
    <!-- API key should be set in Profile > Settings -->
</body>
</html>


